(this["webpackJsonpsocialmediaapp-client"]=this["webpackJsonpsocialmediaapp-client"]||[]).push([[1],{123:function(e,t,a){"use strict";a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return c})),a.d(t,"c",(function(){return i}));a(0);var n=a(33),r=a(22),o={user:{bio:"Loading..",created_at:"Loading..",email:"Loading..",location:"Loading..",password:"Loading..",update_at:"Loading..",user_id:"Loading..",username:"Loading..",website:"Loading.."},relationships:[],notifications:[]};function l(e){var t=Object(r.b)(),a=Object(n.d)({queryKey:["user"],queryFn:function(){return t(e).then((function(e){return e}))}}).data;return null!==a&&void 0!==a?a:o}function c(e,t){var a=Object(r.b)();return Object(n.d)({queryKey:["relevantUser",t],queryFn:function(){return a(e,t).then((function(e){return e}))}})}function i(e){var t=Object(r.b)();return Object(n.d)({queryKey:["whoToFollow"],queryFn:function(){return t(e).then((function(e){return e}))}})}},127:function(e,t,a){"use strict";a.d(t,"c",(function(){return o})),a.d(t,"e",(function(){return l})),a.d(t,"a",(function(){return c})),a.d(t,"d",(function(){return i})),a.d(t,"b",(function(){return m})),a.d(t,"f",(function(){return s}));a(0);var n=a(33),r=a(22);function o(e){var t=Object(r.b)();return Object(n.c)((function(a){return t(e,{method:"POST",data:a})}),{onSettled:function(){n.b.invalidateQueries("HomeTweets"),n.b.invalidateQueries("tweets")}})}function l(e){var t=Object(r.b)();return Object(n.c)((function(a){return t(e,{method:"POST",data:a})}),{onSettled:function(){n.b.invalidateQueries("HomeTweets"),n.b.invalidateQueries("tweets"),n.b.invalidateQueries("Comments")}})}function c(e){var t=Object(r.b)();return Object(n.c)((function(a){return t(e,{method:"POST",data:a})}),{onSettled:function(){n.b.invalidateQueries("Image"),n.b.invalidateQueries("relevantUser")}})}function i(e){var t=Object(r.b)();return Object(n.c)((function(a){return t(e,{method:"POST",data:a})}),{onSettled:function(){n.b.invalidateQueries("user")}})}function m(e){var t=Object(r.b)();return Object(n.c)((function(a){return t(e,{method:"POST",data:a})}),{onSettled:function(){n.b.invalidateQueries("user")}})}function s(e){var t=Object(r.b)();return Object(n.c)((function(a){return t(e,{method:"POST",data:a})}))}},175:function(e,t,a){"use strict";a.d(t,"a",(function(){return N}));var n=a(20),r=a(0),o=a.n(r),l=a(3),c=a(31),i=a(21),m=a(290),s=a(261),u=a(265),d=a(282),b=a(267),p=a(286),E=a(266),f=a(283),g=a(176),v=a.n(g),y=a(254),h=a(250),j=a(262),O=a(22),w=a(54),x=a(24);function k(){return o.a.createElement(y.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",(new Date).getFullYear(),".")}var C=Object(h.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},customError:{color:"red"}}}));function N(e){var t=C(),a=(Object(l.g)(),Object(O.b)(),Object(w.a)()),g=(a.isLoading,a.isError,a.error,a.run),h=Object(x.b)(),N=h.login,T=(h.register,Object(r.useState)("")),S=Object(n.a)(T,2),P=S[0],D=S[1],L=Object(r.useState)(""),W=Object(n.a)(L,2),F=W[0],I=W[1],q=Object(r.useState)({errors:{email:"",password:"",general:""}}),B=Object(n.a)(q,2),Q=B[0],R=(B[1],Object(r.useContext)(i.a));Object(n.a)(R,2)[1];if(localStorage.jwt)return o.a.createElement(l.a,{to:"/"});return o.a.createElement(j.a,{component:"main",maxWidth:"xs",style:{paddingBottom:"200px"}},o.a.createElement(u.a,null),o.a.createElement("div",{className:t.paper},o.a.createElement(m.a,{className:t.avatar},o.a.createElement(v.a,null)),o.a.createElement(y.a,{component:"h1",variant:"h5"},"Sign in"),o.a.createElement("form",{onSubmit:function(e){e.preventDefault(),g(N({email:P,password:F}))},className:t.form,noValidate:!0},o.a.createElement(d.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,error:!!Q.errors.email,helperText:Q.errors.email,onChange:function(e){D(e.target.value)}}),o.a.createElement(d.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",error:!!Q.errors.password,helperText:Q.errors.password,onChange:function(e){I(e.target.value)}}),o.a.createElement(E.a,{container:!0},o.a.createElement(E.a,null,Q.errors.general&&o.a.createElement(y.a,{variant:"body2",className:t.customError},Q.errors.general))),o.a.createElement(b.a,{control:o.a.createElement(p.a,{value:"remember",color:"primary"}),label:"Remember me"}),o.a.createElement(s.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit},"Sign In"),o.a.createElement(E.a,{container:!0},o.a.createElement(E.a,{item:!0},"Don't have an account?",o.a.createElement(c.b,{to:"/register",style:{textDecoration:"none",color:"black"}}," Sign Up"))))),o.a.createElement(f.a,{mt:8},o.a.createElement(k,null)))}},177:function(e,t,a){"use strict";a.d(t,"a",(function(){return T}));var n=a(20),r=a(50),o=a(0),l=a.n(o),c=a(31),i=(a(49),a(21),a(134),a(287)),m=a(210),s=a.n(m),u=a(264),d=a(272),b=a(268),p=a(254),E=a(250),f=a(249),g=a(270),v=a(271),y=a(211),h=a.n(y),j=a(212),O=a.n(j),w=a(168),x=a.n(w),k=a(218),C=(a(123),a(127)),N=Object(E.a)((function(e){return{root:{display:"flex"},drawer:Object(r.a)({overflowY:"hidden"},e.breakpoints.down("md"),{width:e.spacing(8)+1,overflowX:"hidden"}),postTweet:{justifyContent:"center",alignItems:"center",marginTop:"50px"},listItems:Object(r.a)({},e.breakpoints.down("md"),{width:0,display:"inline"}),listText:{}}}));function T(e){var t=e.notifications,a=Object(C.d)("markNotifications"),r=Object(n.a)(a,1)[0];console.log("Notification Button");var o,m,E=N(),y=l.a.useState(null),j=Object(n.a)(y,2),w=j[0],T=j[1];function S(){T(null)}return o=t.length&&t.filter((function(e){return!1===e.read})).length>0?l.a.createElement(g.a,{badgeContent:t.filter((function(e){return!1===e.read})).length,color:"secondary"},l.a.createElement(s.a,null)):l.a.createElement(s.a,null),m=t.length?t.map((function(e){var t;"liked"===e.type?t="liked":"commented"===e.type?t="commented":"followed"===e.type&&(t="followed");var a,n=e.read?"primary":"secondary";return a="liked"===e.type?l.a.createElement(x.a,{color:n,style:{marginRight:10}}):"commented"===e.type?l.a.createElement(h.a,{color:n,style:{marginRight:10}}):l.a.createElement(O.a,{color:n,style:{marginRight:10}}),"liked"===e.type?l.a.createElement(c.b,{to:"/".concat(e.recipient,"/").concat(e.tweetid),key:e.created_at},l.a.createElement(v.a,{onClick:function(){S()}},a,l.a.createElement(p.a,{key:e.created_at,component:c.b,color:"primary",variant:"body1",to:"/".concat(e.recipient,"/").concat(e.tweetid)},e.sender," ",t," your post"))):"commented"===e.type?l.a.createElement(c.b,{to:"/".concat(e.recipient,"/").concat(e.tweetid),key:e.created_at},l.a.createElement(v.a,{onClick:S},a,l.a.createElement(p.a,{key:e.created_at,component:c.b,color:"primary",variant:"body1",to:"/".concat(e.recipient,"/").concat(e.tweetid)},e.sender," ",t," your post"))):l.a.createElement(v.a,{onClick:S},a,l.a.createElement(c.b,{to:"/".concat(e.sender),key:e.created_at},l.a.createElement(p.a,{key:e.created_at,component:c.b,color:"primary",variant:"body1",to:"/".concat(e.sender)},e.sender," ",t," you")))})):l.a.createElement(v.a,{onClick:S},"You have no notifications yet"),l.a.createElement(u.a,{button:!0,className:E.listItems},l.a.createElement(d.a,null,l.a.createElement(f.a,{"aria-owns":w?"simple-menu":void 0,"aria-haspopup":"true",onClick:function(e){T(e.target)},style:{marginLeft:"-12px"}},o)),l.a.createElement(i.a,{mdDown:!0},l.a.createElement(b.a,{className:E.listText,primary:"Notifications"})),l.a.createElement(k.a,{anchorEl:w,open:Boolean(w),onClose:S,onEntered:function(){return r({unreadNotificationId:t.filter((function(e){return!e.read})).map((function(e){return e.id}))})}},m))}},184:function(e,t,a){"use strict";a.d(t,"a",(function(){return k}));var n=a(20),r=a(0),o=a.n(r),l=a(3),c=a(290),i=a(261),m=a(265),s=a(282),u=a(267),d=a(286),b=a(276),p=a(266),E=a(283),f=a(176),g=a.n(f),v=a(254),y=a(250),h=a(262),j=(a(22),a(54)),O=a(24);function w(){return o.a.createElement(v.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",o.a.createElement(b.a,{color:"inherit",href:"https://material-ui.com/"},"Your Website")," ",(new Date).getFullYear(),".")}var x=Object(y.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},customError:{color:"red"}}}));function k(e){var t=Object(j.a)(),a=(t.isLoading,t.isError,t.error,t.run),b=Object(O.b)(),f=(b.login,b.register),y=x(),k=Object(r.useState)(""),C=Object(n.a)(k,2),N=C[0],T=C[1],S=Object(r.useState)(""),P=Object(n.a)(S,2),D=P[0],L=P[1],W=Object(r.useState)(""),F=Object(n.a)(W,2),I=F[0],q=F[1],B=Object(r.useState)(""),Q=Object(n.a)(B,2),R=Q[0],_=Q[1],U=Object(r.useState)({errors:{email:"",password:"",confirmPassword:"",general:""}}),Y=Object(n.a)(U,2),A=Y[0];Y[1];if(localStorage.jwt)return o.a.createElement(l.a,{to:"/"});return o.a.createElement(h.a,{component:"main",maxWidth:"xs",style:{paddingBottom:"55px"}},o.a.createElement(m.a,null),o.a.createElement("div",{className:y.paper},o.a.createElement(c.a,{className:y.avatar},o.a.createElement(g.a,null)),o.a.createElement(v.a,{component:"h1",variant:"h5"},"Register"),o.a.createElement("form",{onSubmit:function(e){e.preventDefault(),a(f({email:N,username:R,password:D,confirmPassword:I}))},className:y.form,noValidate:!0},o.a.createElement(s.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,error:!!A.errors.email,helperText:A.errors.email,onChange:function(e){T(e.target.value)}}),o.a.createElement(s.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",autoFocus:!0,error:!!A.errors.username,helperText:A.errors.username,onChange:function(e){_(e.target.value)}}),o.a.createElement(s.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",error:!!A.errors.password,helperText:A.errors.password,onChange:function(e){L(e.target.value)}}),o.a.createElement(s.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"Confirm password",label:"Confirm Password",type:"password",id:"Confirm password",error:!!A.errors.confirmPassword,helperText:A.errors.confirmPassword,onChange:function(e){q(e.target.value)}}),o.a.createElement(p.a,{container:!0,alignItems:"center"},o.a.createElement(p.a,null,A.errors.general&&o.a.createElement(v.a,{variant:"body2",className:y.customError},A.errors.general))),o.a.createElement(u.a,{control:o.a.createElement(d.a,{value:"remember",color:"primary"}),label:"Remember me"}),o.a.createElement(i.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:y.submit},"Sign In"),o.a.createElement(p.a,{container:!0}))),o.a.createElement(E.a,{mt:8},o.a.createElement(w,null)))}},185:function(e,t,a){"use strict";a.d(t,"a",(function(){return C}));var n=a(20),r=a(50),o=a(0),l=a.n(o),c=a(31),i=a(21),m=a(250),s=a(277),u=a(278),d=a(178),b=a.n(d),p=a(179),E=a.n(p),f=a(181),g=a.n(f),v=a(180),y=a.n(v),h=a(217),j=a.n(h),O=a(177),w=a(123),x=a(24),k=Object(m.a)((function(e){return{root:Object(r.a)({width:"100%",position:"fixed",bottom:0},e.breakpoints.down("xs"),{}),stickToBottom:{width:"100%",position:"sticky",bottom:0}}}));function C(){console.log("NavigationBottom");var e=k(),t=Object(x.b)(),a=t.data;return console.log("NavigationBottom",t),l.a.createElement(s.a,{className:e.root},a?l.a.createElement(N,null):l.a.createElement(T,null))}function N(){console.log("AuthNavBottom");var e=Object(x.b)(),t=(e.login,e.register,e.logout),a=Object(w.b)("user"),r=a.user,o=(a.relationships,a.notifications),m=l.a.useContext(i.a),d=(Object(n.a)(m,1)[0],k()),p=l.a.useState(0),f=Object(n.a)(p,2);f[0],f[1];return l.a.createElement(s.a,{className:d.stickToBottom},l.a.createElement(c.b,{to:"/",style:{textDecoration:"none",color:"black"}},l.a.createElement(u.a,{label:"Home",icon:l.a.createElement(b.a,null)})),l.a.createElement(c.b,{to:"/".concat(r.username),style:{textDecoration:"none",color:"black"}},l.a.createElement(u.a,{label:"Profile",icon:l.a.createElement(j.a,null)})),l.a.createElement(u.a,{style:{paddingRight:"30px",paddingTop:"20px"},label:"Profile",icon:l.a.createElement(O.a,{notifications:o})}),l.a.createElement(c.b,{to:"/login"},l.a.createElement(u.a,{onClick:t,style:{paddingRight:"30px"},label:"logout",icon:l.a.createElement(E.a,null)})))}function T(){console.log("UnAuthNavBottom");var e=k();return l.a.createElement(s.a,{className:e.stickToBottom},l.a.createElement(c.b,{to:"/login",style:{textDecoration:"none",color:"black"}},l.a.createElement(u.a,{label:"login",icon:l.a.createElement(y.a,null)})),l.a.createElement(c.b,{to:"/register",style:{textDecoration:"none",color:"black"}},l.a.createElement(u.a,{label:"register",icon:l.a.createElement(g.a,null)})))}},186:function(e,t,a){"use strict";a.d(t,"a",(function(){return V}));var n=a(50),r=a(0),o=a.n(r),l=a(3),c=a(31),i=(a(49),a(21),a(263)),m=a(287),s=a(178),u=a.n(s),d=a(213),b=a.n(d),p=a(179),E=a.n(p),f=a(259),g=a(264),v=a(272),y=a(273),h=a(290),j=a(268),O=a(254),w=a(250),x=a(129),k=a(181),C=a.n(k),N=a(180),T=a.n(N),S=a(20),P=a(261),D=a(282),L=a(289),W=a(260),F=a(258),I=a(257),q=a(269),B=a(209),Q=a.n(B),R=a(127),_=a(123);function U(){var e=Object(R.f)("postTweet"),t=Object(S.a)(e,1)[0],a=Object(_.b)("user"),n=o.a.useState(!1),r=Object(S.a)(n,2),l=r[0],c=r[1],i=o.a.useState(""),m=Object(S.a)(i,2),s=m[0],u=m[1],d=function(){c(!1)};var b="https://socialmedia-server.herokuapp.com/img/".concat(a.user.username),p=Object(x.a)(),E=Object(q.a)(p.breakpoints.down("md")),f={variant:E?"text":"contained",size:E?"small":"large",startIcon:E?o.a.createElement(Q.a,null):null};return o.a.createElement("div",null,o.a.createElement(P.a,Object.assign({},f,{color:"primary",onClick:function(){c(!0)}}),"Post"),o.a.createElement(L.a,{fullWidth:!0,maxWidth:"sm",open:l,onClose:d,"aria-labelledby":"form-dialog-title"},o.a.createElement(I.a,{id:"form-dialog-title"}),o.a.createElement(F.a,null,o.a.createElement(h.a,null,o.a.createElement("img",{alt:"",src:b||null,style:{width:"200%",objectFit:"fill"}})),o.a.createElement(D.a,{autoFocus:!0,margin:"dense",id:"text",type:"text",fullWidth:!0,placeholder:"What's on your mind?",onChange:function(e){u(e.target.value)}})),o.a.createElement(W.a,null,o.a.createElement(P.a,{onClick:d,color:"primary"},"Cancel"),o.a.createElement(P.a,{onClick:function(){t({content:s,urlUser:a.user.username}),d()},color:"primary"},"Post"))))}var Y=a(177),A=(a(22),a(54)),H=a(24),K=Object(w.a)((function(e){return{root:{display:"flex"},drawer:Object(n.a)({overflowY:"hidden"},e.breakpoints.down("md"),{width:e.spacing(8)+1,overflowX:"hidden"}),postTweet:{justifyContent:"center",alignItems:"center",marginTop:"50px"},main:{paddingTop:"50px",background:"#fffdfd"},listText:{}}}));function V(e){var t=Object(H.b)().data,a=Object(x.a)();return console.log(a),o.a.useEffect((function(){if(!t)return function(){return o.a.createElement(l.a,{to:"/login"})}}),[t]),t?o.a.createElement(J,null):o.a.createElement(X,null)}function J(){console.log("authenticatedNAV");var e=Object(A.a)(),t=(e.isLoading,e.isError,e.error,e.run,Object(H.b)()),a=(t.login,t.register,t.logout),n=Object(_.b)("user"),r=n.user,s=(n.relationships,n.notifications),d=K(),p=Object(l.j)("/".concat(null===r||void 0===r?void 0:r.username)),w=Object(l.j)("/");console.log("matchHome",w),console.log("matchProfile",p);var x=o.a.createElement("div",null,o.a.createElement(f.a,{className:d.main},o.a.createElement(c.b,{to:"/",style:{textDecoration:"none",color:"black"}},o.a.createElement(g.a,{button:!0,selected:!!(null===w||void 0===w?void 0:w.isExact)},o.a.createElement(v.a,null,o.a.createElement(u.a,null)),o.a.createElement(m.a,{mdDown:!0},o.a.createElement(j.a,{className:d.listText,primary:"Home"})))),o.a.createElement(c.b,{to:"/".concat(null===r||void 0===r?void 0:r.username),style:{textDecoration:"none",color:"black"}},o.a.createElement(g.a,{button:!0,selected:!!(null===p||void 0===p?void 0:p.isExact)},o.a.createElement(v.a,null,o.a.createElement(b.a,null)),o.a.createElement(m.a,{mdDown:!0},o.a.createElement(j.a,{classes:{label:d.listText},primary:"Profile"})))),o.a.createElement(Y.a,{notifications:s}),o.a.createElement(c.b,{to:"/login",style:{textDecoration:"none",color:"black"}},o.a.createElement(g.a,{button:!0,onClick:a},o.a.createElement(v.a,null,o.a.createElement(E.a,null)),o.a.createElement(m.a,{mdDown:!0},o.a.createElement(j.a,{className:d.listText,primary:"Log out @".concat(null===r||void 0===r?void 0:r.username)})))),o.a.createElement(i.a,null),o.a.createElement(g.a,{className:d.postTweet},o.a.createElement(U,null)),o.a.createElement(g.a,{alignItems:"flex-start",className:d.NavProfile,style:{paddingTop:"400px"}},o.a.createElement(y.a,null,o.a.createElement(h.a,{component:"span"},o.a.createElement("img",{alt:"",src:"https://socialmedia-server.herokuapp.com/img/".concat(r&&r.username,"? ").concat(Date.now()),style:{width:"200%",objectFit:"fill"}}))),o.a.createElement(j.a,{primary:null===r||void 0===r?void 0:r.username,secondary:o.a.createElement(o.a.Fragment,null,o.a.createElement(O.a,{component:"span",variant:"body2",className:d.inline,color:"textPrimary"}),"@",r.username)}))));return o.a.createElement("div",{className:d.drawer},x)}function X(){var e=K(),t=o.a.createElement("div",null,o.a.createElement("div",{className:e.toolbar}),o.a.createElement(i.a,null),o.a.createElement(f.a,null,o.a.createElement(c.b,{to:"/login",style:{textDecoration:"none",color:"black"}},o.a.createElement(g.a,{button:!0},o.a.createElement(v.a,null,o.a.createElement(T.a,null)),o.a.createElement(j.a,{primary:"Login"}))),o.a.createElement(c.b,{to:"/register",style:{textDecoration:"none",color:"black"}},o.a.createElement(g.a,{button:!0},o.a.createElement(v.a,null,o.a.createElement(C.a,null)),o.a.createElement(j.a,{primary:"Register"}))),o.a.createElement(i.a,null),o.a.createElement(g.a,{className:e.postTweet}),o.a.createElement(g.a,{alignItems:"flex-start",className:e.NavProfile},o.a.createElement(j.a,{secondary:o.a.createElement(o.a.Fragment,null,o.a.createElement(O.a,{component:"span",variant:"body2",className:e.inline,color:"textPrimary"}))}))));return o.a.createElement("div",{className:e.drawer},t)}}}]);
//# sourceMappingURL=1.c89ce370.chunk.js.map