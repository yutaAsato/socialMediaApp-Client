(this["webpackJsonpsocialmediaapp-client"]=this["webpackJsonpsocialmediaapp-client"]||[]).push([[2],{105:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(32),c=a.n(o),u=(a(82),a(24)),i=a(69),s=a(18),l=a(70),d=n.a.lazy((function(){return Promise.all([a.e(0),a.e(5),a.e(1),a.e(6)]).then(a.bind(null,280))})),b=n.a.lazy((function(){return Promise.all([a.e(0),a.e(1),a.e(7)]).then(a.bind(null,279))}));var f=function(){var e=Object(u.b)().data;return n.a.createElement(n.a.Suspense,{fallback:n.a.createElement(s.b,null)},n.a.createElement(i.ErrorBoundary,{FallbackComponent:s.a},e?n.a.createElement(d,null):n.a.createElement(b,null)),n.a.createElement(l.ReactQueryDevtools,{initialIsOpen:!1}))},p=a(21),j=a(31),m=a(33),O=a(115),h=a(114),g=Object(h.a)({typography:{fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),body1:{fontSize:"1.2rem",fontWeight:"800"},body2:{fontSize:"1rem"},body3:{fontSize:"0.7rem"}}}),y={queries:{useErrorBoundary:!0,refetchOnWindowFocus:!1,retry:function(e,t){return 404!==t.status&&e<2}}};function v(e){var t=e.children;return r.createElement(m.a,{config:y},r.createElement(j.a,null,r.createElement(p.b,null,r.createElement(O.a,{theme:g},r.createElement(u.a,null,t)))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(v,null,n.a.createElement(f,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},18:function(e,t,a){"use strict";a.d(t,"a",(function(){return d})),a.d(t,"b",(function(){return l}));a(37);var r=a(14),n=a(4),o=(a(31),a(74));var c=Object(n.b)({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),u=(Object(r.a)("button",{target:"eao31df7",label:"CircleButton"})({borderRadius:"30px",padding:"0",width:"40px",height:"40px",lineHeight:"1",display:"flex",alignItems:"center",justifyContent:"center",background:"white",color:"#434449",border:"1px solid ".concat("#f1f1f4"),cursor:"pointer"},""),Object(r.a)("ul",{target:"eao31df6",label:"BookListUL"})({name:"1s3a8om",styles:"list-style:none;padding:0;display:grid;grid-template-rows:repeat(auto-fill, minmax(100px, 1fr));grid-gap:1em"}),Object(r.a)(o.a,{target:"eao31df5",label:"Spinner"})({animation:"".concat(c," 1s linear infinite")},""));u.defaultProps={"aria-label":"loading"};var i={primary:{background:"#3f51b5",color:"white"},secondary:{background:"#f1f2f7",color:"#434449"}},s=(Object(r.a)("button",{target:"eao31df4",label:"Button"})("padding:10px 15px;border:0;line-height:1;border-radius:3px;",(function(e){var t=e.variant;return i[void 0===t?"primary":t]}),""),{border:"1px solid #f1f1f4",background:"#f1f2f7",padding:"8px 12px"});Object(r.a)("input",{target:"eao31df3",label:"Input"})("border-radius:3px;",s,""),Object(r.a)("textarea",{target:"eao31df2",label:"Textarea"})(s,""),Object(r.a)("div",{target:"eao31df1",label:"FormGroup"})({name:"1fttcpj",styles:"display:flex;flex-direction:column"});function l(){return Object(n.a)("div",{css:{fontSize:"4em",height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},Object(n.a)(u,null))}function d(e){var t=e.error;return Object(n.a)("div",{role:"alert",css:{color:"#ef5350",height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},Object(n.a)("p",null,"Uh oh... There's a problem. Try refreshing the app."),Object(n.a)("pre",null,t.message))}},21:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return d}));var r=a(20),n=a(13),o=a(2),c=a(0),u=a.n(c),i=u.a.createContext({});function s(e,t){switch(t.type){case"SET_USER":return Object(o.a)(Object(o.a)({},e),{},{loggedUser:{username:t.payload.user.username,email:t.payload.user.email,userId:t.payload.user.user_id,joined:t.payload.user.created_at,bio:t.payload.user.bio,website:t.payload.user.website,location:t.payload.user.location,notifications:Object(n.a)(t.payload.notifications)}});case"SET_TWEETS":return Object(o.a)(Object(o.a)({},e),{},{tweets:Object(n.a)(t.payload)});case"SET_USER_TWEETS":return Object(o.a)(Object(o.a)({},e),{},{userTweets:Object(n.a)(t.payload)});case"SET_AUTH":return Object(o.a)(Object(o.a)({},e),{},{auth:t.payload});case"SET_LIKES":return Object(o.a)(Object(o.a)({},e),{},{likes:Object(n.a)(t.payload)});case"SET_RELATIONSHIPS":return Object(o.a)(Object(o.a)({},e),{},{relationships:Object(n.a)(t.payload)});case"URL_DATA":return Object(o.a)(Object(o.a)({},e),{},{url:[t.payload]});case"SET_RELEVANT_USER":return Object(o.a)(Object(o.a)({},e),{},{relevantUser:[t.payload]});case"SET_RELEVANT_RELATIONSHIPS":return Object(o.a)(Object(o.a)({},e),{},{relevantRelationships:Object(n.a)(t.payload)});case"SET_RELEVANT_COMMENTS":return Object(o.a)(Object(o.a)({},e),{},{relevantComments:Object(n.a)(t.payload)});case"SET_RELEVANT_USER_IMAGE":return Object(o.a)(Object(o.a)({},e),{},{relevantUserImage:t.payload});case"SET_WHO_TO_FOLLOW":return Object(o.a)(Object(o.a)({},e),{},{whoToFollow:Object(n.a)(t.payload)});case"LOG_OUT":return Object(o.a)(Object(o.a)({},e),{},{initial:l});default:throw new Error("Unsupported action type: ".concat(t.type))}}var l={loggedUser:null,relationships:[],userTweets:[],tweets:[],likes:[],auth:!1,url:[],relevantUser:[],relevantRelationships:[],relevantComments:[],relevantUserImage:"",whoToFollow:[]};function d(e){var t=u.a.useReducer(s,l),a=Object(r.a)(t,2),n=a[0],o=a[1],c=u.a.useMemo((function(){return[n,o]}),[n]);return u.a.createElement(i.Provider,Object.assign({value:c},e))}},22:function(e,t,a){"use strict";a.d(t,"b",(function(){return f})),a.d(t,"a",(function(){return d}));var r=a(15),n=a.n(r),o=a(37),c=a(2),u=a(26),i=(a(20),a(0)),s=a.n(i),l=(a(49),a(33));a(21);function d(e){return b.apply(this,arguments)}function b(){return(b=Object(u.a)(n.a.mark((function e(t){var a,r,i,s,d,b,f=arguments;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=f.length>1&&void 0!==f[1]?f[1]:{},r=a.data,i=a.token,s=a.headers,d=Object(o.a)(a,["data","token","headers"]),b=Object(c.a)({method:r?"POST":"GET",body:r?JSON.stringify(r):void 0,headers:Object(c.a)({Authorization:i||void 0,"Content-Type":r?"application/json":void 0},s)},d),e.abrupt("return",window.fetch("https://socialmedia-server.herokuapp.com/".concat(t),b).then(function(){var e=Object(u.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(401!==t.status){e.next=4;break}return l.b.clear(),window.location.assign(window.location),e.abrupt("return",Promise.reject({message:"Please re-authenticate."}));case 4:return e.next=6,t.json();case 6:if(a=e.sent,!t.ok){e.next=11;break}return e.abrupt("return",a);case 11:return e.abrupt("return",Promise.reject(a));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){var e=localStorage.jwt;return e="Bearer ".concat(e),s.a.useCallback((function(t,a){return d(t,Object(c.a)(Object(c.a)({},a),{},{token:e}))}),[e])}},24:function(e,t,a){"use strict";a.d(t,"a",(function(){return m})),a.d(t,"b",(function(){return O}));var r=a(15),n=a.n(r),o=(a(2),a(26)),c=a(4),u=a(0),i=a.n(u),s=a(22),l=a(54),d=a(18);function b(){return window.localStorage.getItem("jwt")?"Bearer ".concat(window.localStorage.getItem("jwt")):null}function f(){return(f=Object(o.a)(n.a.mark((function e(){var t,a,r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=null,!(a=b())){e.next=7;break}return e.next=5,Object(s.a)("user",{token:a});case 5:r=e.sent,t=r;case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var p=function(){return f.apply(this,arguments)}(),j=i.a.createContext();function m(e){var t=Object(l.a)(),a=t.data,r=t.error,n=t.isLoading,o=t.isIdle,u=t.isError,b=t.isSuccess,f=t.run,m=t.setData,O=t.status;i.a.useEffect((function(){f(p)}),[f]);var h=i.a.useCallback((function(e){return Object(s.a)("login",{data:e}).then((function(e){window.localStorage.setItem("jwt",e),m(e)}))}),[m]),g=i.a.useCallback((function(e){return Object(s.a)("register",{data:e}).then((function(e){window.localStorage.setItem("jwt",e),m(e)}))}),[m]),y=i.a.useCallback((function(){localStorage.removeItem("jwt"),m(null)}),[m]),v=i.a.useMemo((function(){return{data:a,login:h,logout:y,register:g}}),[h,a,y,g]);if(n||o)return Object(c.a)(d.b,null);if(u)return Object(c.a)(d.a,{error:r});if(b)return Object(c.a)(j.Provider,Object.assign({value:v},e));throw new Error("Unhandled status: ".concat(O))}function O(){var e=i.a.useContext(j);if(void 0===e)throw new Error("useAuth must be used within a AuthProvider");return e}j.displayName="AuthContext"},54:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var r=a(20),n=a(2),o=a(0);var c={status:"idle",data:null,error:null};function u(e){var t=o.useRef(Object(n.a)(Object(n.a)({},c),e)),a=o.useReducer((function(e,t){return Object(n.a)(Object(n.a)({},e),t)}),t.current),u=Object(r.a)(a,2),i=u[0],s=i.status,l=i.data,d=i.error,b=function(e){var t=o.useRef(!1);return o.useLayoutEffect((function(){return t.current=!0,function(){return t.current=!1}}),[]),o.useCallback((function(){return t.current?e.apply(void 0,arguments):void 0}),[e])}(u[1]),f=o.useCallback((function(e){return b({data:e,status:"resolved"})}),[b]),p=o.useCallback((function(e){return b({error:e,status:"rejected"})}),[b]),j=o.useCallback((function(){return b(t.current)}),[b]),m=o.useCallback((function(e){if(!e||!e.then)throw new Error("The argument passed to useAsync().run must be a promise. Maybe a function that's passed isn't returning anything?");return b({status:"pending"}),e.then((function(e){return f(e),e}),(function(e){return console.log("error:",e),p(e),Promise.reject(e)}))}),[b,f,p]);return{isIdle:"idle"===s,isLoading:"pending"===s,isError:"rejected"===s,isSuccess:"resolved"===s,setData:f,setError:p,error:d,status:s,data:l,run:m,reset:j}}},77:function(e,t,a){e.exports=a(105)},82:function(e,t,a){}},[[77,3,4]],[0,5,1,6]]);
//# sourceMappingURL=main.a70bf42c.chunk.js.map