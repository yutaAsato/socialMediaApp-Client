(this["webpackJsonpsocialmediaapp-client"]=this["webpackJsonpsocialmediaapp-client"]||[]).push([[0],{119:function(e,t,a){e.exports=a.p+"static/media/color.d8e226a2.svg"},120:function(e,t,a){e.exports=a.p+"static/media/black.453b122a.svg"},157:function(e,t,a){e.exports=a(187)},162:function(e,t,a){},186:function(e,t,a){e.exports=a.p+"static/media/virus.1296f68d.svg"},187:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(15),c=a.n(o),l=(a(162),a(136)),s=a(19),i=a(7),u=a(8),m=a.n(u),p=a(13),d=a(18),f=a(45),E=a(16),g=r.a.createContext({});function h(e,t){switch(t.type){case"SET_USER":return Object(E.a)(Object(E.a)({},e),{},{loggedUser:{username:t.payload.user.username,email:t.payload.user.email,userId:t.payload.user.user_id,joined:t.payload.user.created_at,bio:t.payload.user.bio,website:t.payload.user.website,location:t.payload.user.location,notifications:Object(f.a)(t.payload.notifications)}});case"SET_TWEETS":return Object(E.a)(Object(E.a)({},e),{},{tweets:Object(f.a)(t.payload)});case"SET_USER_TWEETS":return Object(E.a)(Object(E.a)({},e),{},{userTweets:Object(f.a)(t.payload)});case"SET_AUTH":return Object(E.a)(Object(E.a)({},e),{},{auth:t.payload});case"SET_LIKES":return Object(E.a)(Object(E.a)({},e),{},{likes:Object(f.a)(t.payload)});case"SET_RELATIONSHIPS":return Object(E.a)(Object(E.a)({},e),{},{relationships:Object(f.a)(t.payload)});case"URL_DATA":return Object(E.a)(Object(E.a)({},e),{},{url:[t.payload]});case"SET_RELEVANT_USER":return Object(E.a)(Object(E.a)({},e),{},{relevantUser:[t.payload]});case"SET_RELEVANT_RELATIONSHIPS":return Object(E.a)(Object(E.a)({},e),{},{relevantRelationships:Object(f.a)(t.payload)});case"SET_RELEVANT_COMMENTS":return Object(E.a)(Object(E.a)({},e),{},{relevantComments:Object(f.a)(t.payload)});case"SET_RELEVANT_USER_IMAGE":return Object(E.a)(Object(E.a)({},e),{},{relevantUserImage:t.payload});case"SET_WHO_TO_FOLLOW":return Object(E.a)(Object(E.a)({},e),{},{whoToFollow:Object(f.a)(t.payload)});case"LOG_OUT":return Object(E.a)(Object(E.a)({},e),{},{relationships:[],loggedUser:{}});default:throw new Error("Unsupported action type: ".concat(t.type))}}function v(e){var t=r.a.useReducer(h,{loggedUser:{username:"",email:"",userId:"",joined:"",bio:"",website:"",location:"",profilePic:"",notifications:[]},relationships:[],userTweets:[],tweets:[],likes:[],auth:!1,url:[],relevantUser:[],relevantRelationships:[],relevantComments:[],relevantUserImage:"",whoToFollow:[]}),a=Object(i.a)(t,2),n=a[0],o=a[1],c=r.a.useMemo((function(){return[n,o]}),[n]);return r.a.createElement(g.Provider,Object.assign({value:c},e))}var b=a(6),w=a.n(b),y=a(9),x=a(27),k=a.n(x),j=a(60),O=a.n(j),S=a(225),T=a(236),U=a(258),C=a(40),_=a(226),I=a(227),N=a(228),R=a(229),L=a(47),D=a.n(L),W=a(125),F=a.n(W),P=a(224),A=a(256);function H(e){var t,a,n=r.a.useContext(g),o=Object(i.a)(n,2),c=o[0],l=o[1];function s(){(function(){var e=Object(y.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.post("https://socialmedia-server.herokuapp.com/notifications",{sender:c.loggedUser.username,recipient:t,type:"liked",tweetId:a});case 3:console.log("posted notifications"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("something went wrong");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}})()()}return c.tweets[0]&&("/"===!window.location.pathname?(t=c.relevantUser[0].username,a=c.url[0]&&c.url[0].tweetId):(t=e.tweetUsername,a=e.tweetId)),function(){if(c.likes[0])return!!c.likes.map((function(t){return t.tweetid===e.tweetId?"liked":null})).find((function(e){return"liked"===e}))||void 0}()?r.a.createElement(A.a,{title:"Undo like",onClick:function(){(function(){var t=Object(y.a)(w.a.mark((function t(){var a;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.a.post("https://socialmedia-server.herokuapp.com/tweet/:tweetId/unlike",{tweetId:e.tweetId});case 3:return t.next=5,m.a.post("https://socialmedia-server.herokuapp.com/followTweets");case 5:a=t.sent,l({type:"SET_LIKES",payload:a.data.likes}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log("something went wrong");case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}})()()}},r.a.createElement(P.a,null,r.a.createElement(D.a,null))):r.a.createElement(A.a,{title:"Like",onClick:function(){(function(){var t=Object(y.a)(w.a.mark((function t(){var a;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.a.post("https://socialmedia-server.herokuapp.com/tweet/:tweetId/like",{tweetId:e.tweetId});case 3:return t.next=5,m.a.post("https://socialmedia-server.herokuapp.com/followTweets");case 5:a=t.sent,l({type:"SET_LIKES",payload:a.data.likes}),s(),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log("something went wrong");case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}})()()}},r.a.createElement(P.a,null,r.a.createElement(F.a,null)))}var V=a(234),B=a(251),M=a(257),Y=a(233),z=a(231),q=a(230),G=a(78),K=a.n(G),J=Object(S.a)((function(e){return{dialogContainer:{width:"500px"}}}));function X(e){var t=J();k.a.extend(O.a);var a=r.a.useContext(g),n=Object(i.a)(a,2),o=n[0],c=(n[1],r.a.useState(!1)),l=Object(i.a)(c,2),s=l[0],u=l[1],p=r.a.useState(""),d=Object(i.a)(p,2),f=d[0],E=d[1],h=o.url[0]&&o.url[0].tweetId,v=o.url[0]&&o.url[0].username,b=function(){u(!1)};function x(){(function(){var e=Object(y.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.post("https://socialmedia-server.herokuapp.com/notifications",{sender:o.loggedUser.username,recipient:o.relevantUser[0].username,type:"commented",tweetId:h});case 3:e.sent,console.log("posted notifications"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("something went wrong");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}var j,S,T="https://socialmedia-server.herokuapp.com/img/".concat(o.loggedUser&&o.loggedUser.username,"? ").concat(Date.now());return o.url[0]&&(j=o.loggedUser.username===v?o.userTweets.filter((function(e){return e.id===parseInt(h)})):o.tweets.filter((function(e){return e.id===parseInt(h)}))),o.url[0]&&j.length&&(S=r.a.createElement(_.a,{className:t.root},r.a.createElement(I.a,{avatar:r.a.createElement(U.a,null,r.a.createElement("img",{src:"https://socialmedia-server.herokuapp.com/img/".concat(j[0]&&j[0].username,"? ").concat(Date.now()),style:{width:"100%",objectFit:"cover"}})),title:j[0].username,subheader:k()(o.tweets[0].created_at).fromNow()}),r.a.createElement(N.a,null,r.a.createElement(C.a,{variant:"h5",color:"textSecondary",component:"p"},j[0].content)),r.a.createElement(R.a,{disableSpacing:!0}))),r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,{"aria-label":"share",onClick:function(){u(!0)}},r.a.createElement(K.a,null)),r.a.createElement(M.a,{fullWidth:!0,maxWidth:"sm",open:s,onClose:b,"aria-labelledby":"form-dialog-title"},r.a.createElement(q.a,{id:"form-dialog-title"}),S,r.a.createElement(z.a,null,r.a.createElement(U.a,null,r.a.createElement("img",{src:T||null,style:{width:"100%",objectFit:"cover"}})),r.a.createElement(B.a,{autoFocus:!0,margin:"dense",id:"text",type:"text",fullWidth:!0,placeholder:"Tweet your reply",onChange:function(e){E(e.target.value)}})),r.a.createElement(Y.a,null,r.a.createElement(V.a,{onClick:b,color:"primary"},"Cancel"),r.a.createElement(V.a,{onClick:function(){(function(){var e=Object(y.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.post("https://socialmedia-server.herokuapp.com/tweet/".concat(o.url[0]&&o.url[0].username,"/").concat(o.url[0]&&o.url[0].tweetId,"/").concat(o.loggedUser&&o.loggedUser.username,"/comment"),{comment:f});case 3:e.sent,console.log("posted reply"),x(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("cannot post reply");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()(),b()},color:"primary"},"Reply"))))}var $=a(126),Q=a.n($);function Z(e){var t,a=Object(d.g)();return t=e.tweetId?e.tweetId:e.currentTweetId,r.a.createElement(A.a,{title:"delete",onClick:function(){(function(){var e=Object(y.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.post("https://socialmedia-server.herokuapp.com/tweet/".concat(t));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("something went wrong");case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}})()(),a.push("/")}},r.a.createElement(P.a,null,r.a.createElement(Q.a,null)))}var ee=a(235),te=a(252),ae=Object(S.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper},inline:{display:"inline"},content:{padding:0,paddingLeft:16,"&:last-child":{paddingBottom:0}}}}));function ne(){var e=ae(),t=Object(n.useContext)(g),a=Object(i.a)(t,2),o=a[0],c=(a[1],r.a.useState(!1)),l=Object(i.a)(c,2);l[0],l[1];k.a.extend(O.a);var s,u;"https://socialmedia-server.herokuapp.com/img/".concat(o.url[0]&&o.url[0].username,"? ").concat(Date.now());return o.tweets[0]&&(s=o.tweets.sort((function(e,t){var a=new Date(e.created_at);return new Date(t.created_at)-a}))),o.tweets[0]&&(u=s.map((function(t){return r.a.createElement(_.a,{className:e.root,key:t.id},r.a.createElement(p.b,{to:"/".concat(t.username,"/").concat(t.id),style:{textDecoration:"none",color:"black"},key:t.id},r.a.createElement(I.a,{avatar:r.a.createElement(U.a,{component:"span"},r.a.createElement("img",{src:"https://socialmedia-server.herokuapp.com/img/".concat(t.username,"? ").concat(Date.now()),style:{width:"150%",objectFit:"cover"}})),title:r.a.createElement(C.a,{style:{display:"flex"}},t.username),subheader:r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(C.a,{style:{marginRight:5}}," @".concat(t.username)," -"," ")," ",r.a.createElement(C.a,null," ",k()(t.created_at).fromNow()))}),r.a.createElement(N.a,{className:e.content},r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,{variant:"body2",className:e.inline,color:"textPrimary"},t.content)))),r.a.createElement(R.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{style:{display:"flex",justifyContent:"space-between",marginLeft:"-20px"}},r.a.createElement(te.a,null,t.likescount," ",r.a.createElement(H,{tweetId:t.id,key:t.id,tweet:t,tweetUsername:t.username})),r.a.createElement(te.a,null,t.commentcount,r.a.createElement(X,null))))),r.a.createElement(T.a,null))}))),r.a.createElement("div",null,u)}function re(){var e=Object(n.useContext)(g),t=Object(i.a)(e,2),a=(t[0],t[1]),o=r.a.useState(!1),c=Object(i.a)(o,2),l=c[0],s=c[1];return Object(n.useEffect)((function(){s(!0),function(){var e=Object(y.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.post("https://socialmedia-server.herokuapp.com/followTweets");case 3:t=e.sent,a({type:"SET_TWEETS",payload:t.data.tweets}),a({type:"SET_LIKES",payload:t.data.likes}),s(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("something went wrong");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}()()}),[]),r.a.createElement("div",{style:{paddingTop:"10px"}},l?null:r.a.createElement(ne,null))}var oe=a(232),ce=a(191),le=a(237);function se(e){var t=r.a.useContext(g),n=Object(i.a)(t,2),o=n[0],c=n[1];function l(){(function(){var e=Object(y.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.post("https://socialmedia-server.herokuapp.com/notifications",{sender:o.loggedUser.username,recipient:o.relevantUser[0].username,type:"followed"});case 3:e.sent,console.log("posted notifications"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("something went wrong");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}var s=function(){if(o.relationships[0])return!!o.relationships.map((function(e){return e.followed_username===o.url[0].username?"following":null})).find((function(e){return"following"===e}))||void 0}()?r.a.createElement(A.a,{title:"unfollow",onClick:function(){(function(){var e=Object(y.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.post("https://socialmedia-server.herokuapp.com/unFollow",{toUnfollowUsername:o.url[0].username});case 3:t=e.sent,c({type:"SET_RELATIONSHIPS",payload:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("something went wrong");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}},r.a.createElement(P.a,null,r.a.createElement("img",{alt:"",src:a(119),style:{width:"30px"}}))):r.a.createElement(A.a,{title:"follow",onClick:function(){(function(){var e=Object(y.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.post("https://socialmedia-server.herokuapp.com/follow",{toFollowUsername:o.url[0].username});case 3:t=e.sent,c({type:"SET_RELATIONSHIPS",payload:t.data}),l(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("something went wrong");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}},r.a.createElement(P.a,null,r.a.createElement("img",{alt:"",src:a(120),style:{width:"30px"}})));return r.a.createElement("div",null,s)}var ie=Object(S.a)((function(e){return{root:{height:"170px",width:"100%"},inline:{display:"inline"},listItemStyle:{maxWidth:"320px"}}}));function ue(e){var t=ie(),a=r.a.useContext(g),n=Object(i.a)(a,2),o=n[0],c=n[1],l=r.a.useState(!1),s=Object(i.a)(l,2),u=s[0],d=s[1];r.a.useEffect((function(){d(!0),function(){var e=Object(y.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.post("https://socialmedia-server.herokuapp.com/relevantUser",{relevantUsername:o.url[0].username});case 3:t=e.sent,c({type:"SET_RELEVANT_USER",payload:t.data}),d(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("something went wrong");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()()}),[o.url]);var f="https://socialmedia-server.herokuapp.com/img/".concat(o.url[0]&&o.url[0].username,"? ").concat(Date.now()),E=r.a.createElement(_.a,{className:t.root},r.a.createElement(oe.a,null,r.a.createElement(C.a,{component:"span",variant:"h5",className:t.inline,color:"textPrimary",style:{marginLeft:"55px",fontWeight:"bold"}}," ","Relevant people"),r.a.createElement(T.a,{variant:"fullWidth",component:"li"}),r.a.createElement(ce.a,{alignItems:"flex-start",className:t.listItemStyle},r.a.createElement("div",{style:{paddingRight:"15px",paddingTop:"6px"}},r.a.createElement(U.a,{component:"span"},r.a.createElement("img",{src:f||null,style:{width:"100%",objectFit:"cover"}}))," "),r.a.createElement(p.b,{to:"/".concat(o.relevantUser[0]&&o.relevantUser[0].username),style:{textDecoration:"none",color:"black"}},r.a.createElement(le.a,{secondary:r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,{component:"span",variant:"h5",className:t.inline,color:"textPrimary"},"@",o.relevantUser[0]&&o.relevantUser[0].username),r.a.createElement("br",null),r.a.createElement(C.a,{component:"span",variant:"body2",className:t.inline,color:"textPrimary"},o.relevantUser[0]&&o.relevantUser[0].bio))})),r.a.createElement(se,null))));return r.a.createElement("div",null,u?null:E)}var me=a(238);function pe(e){var t=r.a.useContext(g),n=Object(i.a)(t,2),o=n[0],c=n[1];function l(){(function(){var t=Object(y.a)(w.a.mark((function t(){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.a.post("https://socialmedia-server.herokuapp.com/notifications",{sender:o.loggedUser.username,recipient:e.username,type:"followed"});case 3:t.sent,console.log("posted notifications"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("something went wrong");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}})()()}var s=function(){if(o.relationships[0])return!!o.relationships.map((function(t){return t.followed_username===e.username?"following":null})).find((function(e){return"following"===e}))||void 0}()?r.a.createElement(A.a,{title:"unfollow",onClick:function(){(function(){var t=Object(y.a)(w.a.mark((function t(){var a;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.a.post("https://socialmedia-server.herokuapp.com/unFollow",{toUnfollowUsername:e.username});case 3:a=t.sent,c({type:"SET_RELATIONSHIPS",payload:a.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("something went wrong");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}})()()}},r.a.createElement(P.a,null,r.a.createElement("img",{alt:"",src:a(119),style:{width:"30px"}}))):r.a.createElement(A.a,{title:"follow",onClick:function(){(function(){var t=Object(y.a)(w.a.mark((function t(){var a;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.a.post("https://socialmedia-server.herokuapp.com/follow",{toFollowUsername:e.username});case 3:a=t.sent,c({type:"SET_RELATIONSHIPS",payload:a.data}),l(),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("something went wrong");case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}})()()}},r.a.createElement(P.a,null,r.a.createElement("img",{alt:"",src:a(120),style:{width:"30px"}})));return r.a.createElement("div",null,s)}var de=Object(S.a)((function(e){return{root:{width:"350px",maxWidth:"100%",backgroundColor:e.palette.background.paper},inline:{display:"inline"},mainCard:{height:"140px"}}}));function fe(e){var t,a=de(),n=r.a.useContext(g),o=Object(i.a)(n,2),c=o[0],l=(o[1],r.a.useState(!1)),s=Object(i.a)(l,2),u=s[0];s[1];return c.whoToFollow[0]?(t=c.whoToFollow.map((function(e,t){return r.a.createElement(_.a,{className:a.mainCard,key:t},r.a.createElement(oe.a,{className:a.root},r.a.createElement(T.a,{variant:"fullWidth",component:"li"}),r.a.createElement(ce.a,{alignItems:"flex-start"},r.a.createElement(me.a,null,r.a.createElement(U.a,{component:"span"},r.a.createElement("img",{src:"https://socialmedia-server.herokuapp.com/img/".concat(e.username,"? ").concat(Date.now()),style:{width:"100%",objectFit:"cover"}}))),r.a.createElement(p.b,{to:"/".concat(e.username),style:{textDecoration:"none"}},r.a.createElement(le.a,{secondary:r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,{component:"span",variant:"h5",className:a.inline,color:"textPrimary"},"@",e.username),r.a.createElement("br",null),r.a.createElement(C.a,{component:"span",variant:"body2",className:a.inline,color:"textPrimary"},e.bio))})),r.a.createElement(pe,{username:e.username}))))})),r.a.createElement("div",null,u?null:r.a.createElement(_.a,null,r.a.createElement(C.a,{component:"span",variant:"h5",className:a.inline,color:"textPrimary",style:{marginLeft:"55px",fontWeight:"bold"}}," ","Who to follow"),t))):"nothing here"}function Ee(e){var t=r.a.useContext(g),a=Object(i.a)(t,2),n=a[0],o=a[1],c=r.a.useState(!1),l=Object(i.a)(c,2),s=l[0],u=l[1];return r.a.useEffect((function(){u(!0),function(){var e=Object(y.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get("https://socialmedia-server.herokuapp.com/whoToFollow");case 3:t=e.sent,o({type:"SET_WHO_TO_FOLLOW",payload:t.data}),u(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("something went wrong");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()()}),[n.auth]),r.a.useEffect((function(){(function(){var e=Object(y.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get("https://socialmedia-server.herokuapp.com/user");case 3:t=e.sent,o({type:"SET_USER",payload:t.data}),o({type:"SET_RELATIONSHIPS",payload:t.data.relationships}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("something went wrong");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement("div",{style:{paddingTop:"10px"}},s?null:n.url[0]&&n.url[0].username!==n.loggedUser.username?r.a.createElement(ue,null):r.a.createElement(fe,null))}var ge=Object(S.a)((function(e){var t;return{palette:{primary:{main:"red"}},root:{height:"100px"},textField:{marginTop:e.spacing(3),marginLeft:e.spacing(1),marginRight:e.spacing(1),width:"25ch"},postButton:(t={marginRight:"-390px",marginTop:"40px",padding:"10px"},Object(s.a)(t,e.breakpoints.down("xs"),{marginLeft:"-100px",marginBottom:"-10px",height:"20px",fontSize:"0.5rem"}),Object(s.a)(t,e.breakpoints.down("md"),{marginRight:"-300px",fontSize:"0.5rem"}),t)}}));function he(){var e=ge(),t=r.a.useContext(g),a=Object(i.a)(t,2),n=a[0],o=(a[1],r.a.useState("")),c=Object(i.a)(o,2),l=c[0],s=c[1];return r.a.createElement("div",{className:e.root},r.a.createElement(ee.a,{style:{marginLeft:"-24px"}},r.a.createElement(ce.a,null,r.a.createElement(U.a,{component:"span"},r.a.createElement("img",{src:"https://socialmedia-server.herokuapp.com/img/".concat(n.loggedUser&&n.loggedUser.username,"? ").concat(Date.now()),style:{width:"150%",objectFit:"cover"}})),r.a.createElement(B.a,{id:"standard-full-width",style:{margin:10},placeholder:"What's happening?",fullWidth:!0,value:l,onChange:function(e){s(e.target.value)}}),r.a.createElement(ee.a,{className:e.postButton},r.a.createElement(V.a,{onClick:function(){(function(){var e=Object(y.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.post("https://socialmedia-server.herokuapp.com/postTweet",{content:l});case 3:e.sent,console.log("posted tweet"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("cannot post tweet");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()(),s("")},color:"primary",variant:"contained"},"Post")))))}var ve=Object(S.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}}}));function be(){ve();var e=Object(n.useContext)(g),t=Object(i.a)(e,2),o=(t[0],t[1]);return Object(n.useEffect)((function(){(function(){var e=Object(y.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get("https://socialmedia-server.herokuapp.com/user");case 3:t=e.sent,o({type:"SET_USER",payload:t.data}),o({type:"SET_RELATIONSHIPS",payload:t.data.relationships}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("something went wrong");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.useEffect)((function(){o({type:"URL_DATA",payload:null})}),[]),r.a.createElement("div",{style:{paddingTop:"10px"}},r.a.createElement(_.a,null,r.a.createElement(C.a,{variant:"h2",style:{fontSize:"1.2rem",fontWeight:"bold",paddingLeft:"10px"}},"Home",r.a.createElement(P.a,{style:{paddingLeft:"450px"}},r.a.createElement("img",{alt:"",src:a(186),style:{width:"30px"}})))),r.a.createElement(T.a,{light:!0}),r.a.createElement(_.a,null,r.a.createElement(he,null)),r.a.createElement(re,null))}var we=a(239),ye=a(241),xe=a(253),ke=a(240),je=a(87),Oe=a.n(je);function Se(){return r.a.createElement(C.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",(new Date).getFullYear(),".")}var Te=Object(S.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},customError:{color:"red"}}}));function Ue(e){var t=Te(),a=Object(n.useState)(""),o=Object(i.a)(a,2),c=o[0],l=o[1],s=Object(n.useState)(""),u=Object(i.a)(s,2),f=u[0],E=u[1],h=Object(n.useState)({errors:{email:"",password:"",general:""}}),v=Object(i.a)(h,2),b=v[0],x=v[1],k=Object(n.useContext)(g),j=Object(i.a)(k,2),O=(j[0],j[1]);if(localStorage.jwt)return r.a.createElement(d.a,{to:"/"});return r.a.createElement(ee.a,{component:"main",maxWidth:"xs"},r.a.createElement(we.a,null),r.a.createElement("div",{className:t.paper},r.a.createElement(U.a,{className:t.avatar},r.a.createElement(Oe.a,null)),r.a.createElement(C.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),function(){var e=Object(y.a)(w.a.mark((function e(){var t,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.post("https://socialmedia-server.herokuapp.com/login",{email:c,password:f});case 3:t=e.sent,a="Bearer ".concat(t.data),localStorage.setItem("jwt",a),console.log("working here"),O({type:"SET_AUTH",payload:!0}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("login failed"),x(e.t0.response.data);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}()()},className:t.form,noValidate:!0},r.a.createElement(B.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,error:!!b.errors.email,helperText:b.errors.email,onChange:function(e){l(e.target.value)}}),r.a.createElement(B.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",error:!!b.errors.password,helperText:b.errors.password,onChange:function(e){E(e.target.value)}}),r.a.createElement(ke.a,{container:!0},r.a.createElement(ke.a,null,b.errors.general&&r.a.createElement(C.a,{variant:"body2",className:t.customError},b.errors.general))),r.a.createElement(ye.a,{control:r.a.createElement(xe.a,{value:"remember",color:"primary"}),label:"Remember me"}),r.a.createElement(V.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit},"Sign In"),r.a.createElement(ke.a,{container:!0}," ",r.a.createElement(ke.a,{item:!0},"Don't have an account?",r.a.createElement(p.b,{to:"/register",style:{textDecoration:"none",color:"black"}}," Sign Up"))))),r.a.createElement(te.a,{mt:8},r.a.createElement(Se,null)))}var Ce=a(3),_e=a(90),Ie=a(128),Ne=a.n(Ie),Re=a(127),Le=a.n(Re),De=Object(S.a)((function(e){return{root:{maxWidth:700},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:_e.a[500]}}}));function We(e){var t=De(),a=r.a.useState(!1),o=Object(i.a)(a,2),c=o[0],l=o[1],u=r.a.useState(!1),d=Object(i.a)(u,2),f=d[0],E=d[1],h=Object(n.useContext)(g),v=Object(i.a)(h,2),b=v[0],x=v[1];k.a.extend(O.a);Object(n.useEffect)((function(){x({type:"URL_DATA",payload:e.match.params})}),[]),Object(n.useEffect)((function(){(function(){var t=Object(y.a)(w.a.mark((function t(){var a;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.a.get("https://socialmedia-server.herokuapp.com/comment/".concat(e.match.params.username,"/").concat(e.match.params.tweetId));case 3:a=t.sent,x({type:"SET_RELEVANT_COMMENTS",payload:a.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("something went wrong");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}})()()}),[b.tweets[0]]),Object(n.useEffect)((function(){(function(){var e=Object(y.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get("https://socialmedia-server.herokuapp.com/user");case 3:t=e.sent,x({type:"SET_USER",payload:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("something went wrong");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.useEffect)((function(){(function(){var e=Object(y.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.post("https://socialmedia-server.herokuapp.com/followTweets");case 3:t=e.sent,x({type:"SET_TWEETS",payload:t.data.tweets}),x({type:"SET_LIKES",payload:t.data.likes}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("something went wrong");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.useEffect)((function(){E(!0),function(){var e=Object(y.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get("https://socialmedia-server.herokuapp.com/userTweets");case 3:t=e.sent,x({type:"SET_USER_TWEETS",payload:t.data}),E(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("something went wrong");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()()}),[]);var j,S=e.match.params.tweetId,T=e.match.params.username;b.tweets[0]&&(j=b.loggedUser.username===e.match.params.username?b.userTweets.filter((function(e){return e.id===parseInt(S)})):b.tweets.filter((function(e){return e.id===parseInt(S)})));var L,D="https://socialmedia-server.herokuapp.com/img/".concat(b.url[0]&&b.url[0].username,"? ").concat(Date.now());return console.log(j),j&&j.length?(j=r.a.createElement(_.a,{className:t.root},r.a.createElement(I.a,{avatar:r.a.createElement(U.a,null,r.a.createElement("img",{src:D||null,style:{width:"100%",objectFit:"cover"}})),action:r.a.createElement(P.a,{"aria-label":"settings"},r.a.createElement(Le.a,null)),title:"@".concat(j[0]&&j[0].username),subheader:k()(j[0]&&j[0].created_at).fromNow()}),r.a.createElement(N.a,null,r.a.createElement(C.a,{variant:"h5",color:"textSecondary",component:"p"},j[0]&&j[0].content)),r.a.createElement(R.a,{style:{justifyContent:"space-between"}},r.a.createElement(te.a,{style:{paddingLeft:"20px"}},j[0]&&j[0].likescount,r.a.createElement(H,{tweetId:parseInt(S)})),r.a.createElement(te.a,null,j[0]&&j[0].commentcount,r.a.createElement(X,{currentTweetId:S,currentTweetUsername:T})),r.a.createElement(te.a,null,T===b.loggedUser.username?r.a.createElement(Z,{currentTweetId:S}):null),r.a.createElement(P.a,{className:Object(Ce.a)(t.expand,Object(s.a)({},t.expandOpen,c)),onClick:function(e){l(!c)},"aria-expanded":c,"aria-label":"show more"},r.a.createElement(Ne.a,null)))),b.relevantComments[0]&&(L=b.relevantComments.map((function(e){return r.a.createElement(oe.a,{className:t.root,key:e.id},r.a.createElement(_.a,null,r.a.createElement(ce.a,{alignItems:"flex-start"},r.a.createElement("div",{style:{paddingRight:"15px"}},r.a.createElement(U.a,{component:"span"},r.a.createElement("img",{src:"https://socialmedia-server.herokuapp.com/img/".concat(e.senderusername,"? ").concat(Date.now()),style:{width:"150%",objectFit:"cover"}}))," "),r.a.createElement(le.a,{primary:r.a.createElement(p.b,{to:"/".concat(e.senderusername),style:{textDecoration:"none",color:"black"}},"@".concat(e.senderusername)," "),secondary:r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,null,"Replying to",r.a.createElement(p.b,{to:"/".concat(b.url[0]&&b.url[0].username),style:{textDecoration:"none",color:"#87CEFA"}}," ".concat(b.url[0]&&b.url[0].username)," ")),r.a.createElement(C.a,{component:"span",variant:"body1",className:t.inline,color:"textPrimary"},e.comments),r.a.createElement("br",null),r.a.createElement(C.a,{component:"span",variant:"body2",className:t.inline,color:"textPrimary"},k()(e.created_at).fromNow()),r.a.createElement("br",null))}))))}))),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,f?null:j),r.a.createElement("div",null,f?null:L&&L))):r.a.createElement("div",null,r.a.createElement("h3",null,"Sorry no tweet found"))}var Fe=a(255),Pe=a(54),Ae=a.n(Pe),He=a(57),Ve=a.n(He),Be=a(96),Me=a.n(Be),Ye=a(130),ze=a.n(Ye),qe=a(245),Ge=a(243),Ke=a(244),Je=a(88),Xe=a.n(Je),$e=a(89),Qe=a.n($e),Ze=a(242),et=a(25),tt=a(129),at=a.n(tt),nt=Object(S.a)((function(e){return{dialogContainer:{width:"500px"}}}));function rt(){nt();var e=r.a.useContext(g),t=Object(i.a)(e,2),a=t[0],n=t[1],o=r.a.useState(!1),c=Object(i.a)(o,2),l=c[0],s=c[1],u=r.a.useState(""),p=Object(i.a)(u,2),d=p[0],f=p[1],E=function(){s(!1)};var h="https://socialmedia-server.herokuapp.com/img/".concat(a.loggedUser&&a.loggedUser.username,"? ").concat(Date.now()),v=Object(et.a)(),b=Object(Ze.a)(v.breakpoints.down("md")),x={variant:b?"text":"contained",size:b?"small":"large",startIcon:b?r.a.createElement(at.a,null):null};return r.a.createElement("div",null,r.a.createElement(V.a,Object.assign({},x,{color:"primary",onClick:function(){s(!0)}}),"Post"),r.a.createElement(M.a,{fullWidth:!0,maxWidth:"sm",open:l,onClose:E,"aria-labelledby":"form-dialog-title"},r.a.createElement(q.a,{id:"form-dialog-title"}),r.a.createElement(z.a,null,r.a.createElement(U.a,null,r.a.createElement("img",{src:h||null,style:{width:"100%",objectFit:"cover"}})),r.a.createElement(B.a,{autoFocus:!0,margin:"dense",id:"text",type:"text",fullWidth:!0,placeholder:"What's on your mind?",onChange:function(e){f(e.target.value)}})),r.a.createElement(Y.a,null,r.a.createElement(V.a,{onClick:E,color:"primary"},"Cancel"),r.a.createElement(V.a,{onClick:function(){(function(){var e=Object(y.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.post("https://socialmedia-server.herokuapp.com/postTweet",{content:d,urlUser:a.url[0]&&a.url[0].username});case 3:t=e.sent,n({type:"SET_TWEETS",payload:t.data}),console.log("posted tweet"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("cannot post tweet");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()(),E()},color:"primary"},"Post"))))}var ot=a(135),ct=Object(S.a)((function(e){return{root:{display:"flex"},drawer:Object(s.a)({overflowY:"hidden"},e.breakpoints.down("md"),{width:e.spacing(8)+1,overflowX:"hidden"}),postTweet:{justifyContent:"center",alignItems:"center",marginTop:"50px"},listItems:Object(s.a)({},e.breakpoints.down("md"),{width:0,display:"inline"})}}));function lt(){var e,t=ct(),a=r.a.useState(null),o=Object(i.a)(a,2),c=o[0],l=o[1],s=Object(n.useContext)(g),u=Object(i.a)(s,2),d=u[0],f=u[1];function E(){l(null),function(){var e=Object(y.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get("https://socialmedia-server.herokuapp.com/user");case 3:t=e.sent,f({type:"SET_USER",payload:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("something went wrong");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()()}e=d.loggedUser.notifications&&d.loggedUser.notifications.length>0&&d.loggedUser.notifications.filter((function(e){return!1===e.read})).length>0?r.a.createElement(Ge.a,{badgeContent:d.loggedUser.notifications.filter((function(e){return!1===e.read})).length,color:"secondary"},r.a.createElement(Ae.a,null)):r.a.createElement(Ae.a,null);var h=d.loggedUser.notifications&&d.loggedUser.notifications.length>0?d.loggedUser.notifications.map((function(e){var t;"liked"===e.type?t="liked":"commented"===e.type?t="commented":"followed"===e.type&&(t="followed");var a,n=k()(e.created_at).fromNow(),o=e.read?"primary":"secondary";return a="liked"===e.type?r.a.createElement(D.a,{color:o,style:{marginRight:10}}):"commented"===e.type?r.a.createElement(Xe.a,{color:o,style:{marginRight:10}}):r.a.createElement(Qe.a,{color:o,style:{marginRight:10}}),"liked"===e.type||"commented"===e.type?r.a.createElement(Ke.a,{key:e.created_at,onClick:E},a,r.a.createElement(C.a,{component:p.b,color:"primary",variant:"body1",to:"/".concat(e.recipient,"/").concat(e.tweetid)},e.sender," ",t," your post ",n)):r.a.createElement(Ke.a,{key:e.created_at,onClick:E},a,r.a.createElement(C.a,{component:p.b,color:"primary",variant:"body1",to:"/".concat(e.sender)},e.sender," ",t," you ",n))})):r.a.createElement(Ke.a,{onClick:E},"You have no notifications yet");return r.a.createElement(ce.a,{button:!0,className:t.listItems},r.a.createElement(qe.a,null,r.a.createElement(P.a,{"aria-owns":c?"simple-menu":void 0,"aria-haspopup":"true",onClick:function(e){l(e.target)},style:{marginLeft:"-12px"}},e)),r.a.createElement(Fe.a,{mdDown:!0},r.a.createElement(le.a,{primary:"Notifications"})),r.a.createElement(ot.a,{anchorEl:c,open:Boolean(c),onClose:E,onEntered:function(){var e=d.loggedUser.notifications.filter((function(e){return!e.read})).map((function(e){return e.id}));(function(){var t=Object(y.a)(w.a.mark((function t(){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.a.post("https://socialmedia-server.herokuapp.com/markNotifications",{unreadNotificationId:e});case 3:t.sent,console.log("updatednotifications"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("something went wrong");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}})()()}},h))}var st=Object(S.a)((function(e){return{root:{display:"flex"},drawer:Object(s.a)({overflowY:"hidden"},e.breakpoints.down("md"),{width:e.spacing(8)+1,overflowX:"hidden"}),postTweet:{justifyContent:"center",alignItems:"center",marginTop:"50px"}}}));function it(e){var t=st(),a=r.a.useState(!1),o=Object(i.a)(a,2),c=(o[0],o[1],r.a.useState(null)),l=Object(i.a)(c,2),s=(l[0],l[1]),u=Object(n.useContext)(g),f=Object(i.a)(u,2),E=f[0],h=f[1];function v(){s(null),function(){var e=Object(y.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get("https://socialmedia-server.herokuapp.com/user");case 3:t=e.sent,h({type:"SET_USER",payload:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("something went wrong");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()()}r.a.useEffect((function(){if(!localStorage.jwt)return function(){return r.a.createElement(d.a,{to:"/login"})}})),E.loggedUser.notifications&&E.loggedUser.notifications.length>0&&E.loggedUser.notifications.filter((function(e){return!1===e.read})).length>0?(Ge.a,E.loggedUser.notifications.filter((function(e){return!1===e.read})).length,Ae.a):Ae.a;var b;E.loggedUser.notifications&&E.loggedUser.notifications.length>0?E.loggedUser.notifications.map((function(e){var t;"liked"===e.type?t="liked":"commented"===e.type?t="commented":"followed"===e.type&&(t="followed");var a,n=k()(e.created_at).fromNow(),o=e.read?"primary":"secondary";return a="liked"===e.type?r.a.createElement(D.a,{color:o,style:{marginRight:10}}):"commented"===e.type?r.a.createElement(Xe.a,{color:o,style:{marginRight:10}}):r.a.createElement(Qe.a,{color:o,style:{marginRight:10}}),"liked"===e.type||"commented"===e.type?r.a.createElement(Ke.a,{key:e.created_at,onClick:v},a,r.a.createElement(C.a,{component:p.b,color:"primary",variant:"body1",to:"/".concat(e.recipient,"/").concat(e.tweetid)},e.sender," ",t," your post ",n)):r.a.createElement(Ke.a,{key:e.created_at,onClick:v},a,r.a.createElement(C.a,{component:p.b,color:"primary",variant:"body1",to:"/".concat(e.sender)},e.sender," ",t," you ",n))})):Ke.a;return b=localStorage.jwt?r.a.createElement("div",null,r.a.createElement(T.a,null),r.a.createElement(oe.a,null,r.a.createElement(p.b,{to:"/",style:{textDecoration:"none",color:"black"}},r.a.createElement(ce.a,{button:!0},r.a.createElement(qe.a,null,r.a.createElement(Ve.a,null)),r.a.createElement(Fe.a,{mdDown:!0},r.a.createElement(le.a,{primary:"Home"})))),r.a.createElement(p.b,{to:"/".concat(E.loggedUser.username),style:{textDecoration:"none",color:"black"}},r.a.createElement(ce.a,{button:!0},r.a.createElement(qe.a,null,r.a.createElement(Me.a,null)),r.a.createElement(Fe.a,{mdDown:!0},r.a.createElement(le.a,{primary:"Profile"})))),r.a.createElement(lt,null),r.a.createElement(p.b,{to:"/login",style:{textDecoration:"none",color:"black"}},r.a.createElement(ce.a,{button:!0,onClick:function(){localStorage.removeItem("jwt"),delete m.a.defaults.headers.common.Authorization,h({type:"SET_AUTH",payload:!1}),h({type:"LOG_OUT"})}},r.a.createElement(qe.a,null,r.a.createElement(ze.a,null)),r.a.createElement(Fe.a,{mdDown:!0},r.a.createElement(le.a,{primary:"Log out @".concat(E.loggedUser.username)})))),r.a.createElement(T.a,null),r.a.createElement(ce.a,{className:t.postTweet},r.a.createElement(rt,null)),r.a.createElement(ce.a,{alignItems:"flex-start",className:t.NavProfile,style:{paddingTop:"400px"}},r.a.createElement(me.a,null,r.a.createElement(U.a,{component:"span"},r.a.createElement("img",{src:"https://socialmedia-server.herokuapp.com/img/".concat(E.loggedUser&&E.loggedUser.username,"? ").concat(Date.now()),style:{width:"150%",objectFit:"cover"}}))),r.a.createElement(le.a,{primary:E.loggedUser.username,secondary:r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,{component:"span",variant:"body2",className:t.inline,color:"textPrimary"}),"@",E.loggedUser.username)})))):r.a.createElement("div",null,r.a.createElement("div",{className:t.toolbar}),r.a.createElement(T.a,null),r.a.createElement(oe.a,null,r.a.createElement(p.b,{to:"/",style:{textDecoration:"none",color:"black"}},r.a.createElement(ce.a,{button:!0},r.a.createElement(qe.a,null,r.a.createElement(Ve.a,null)),r.a.createElement(le.a,{primary:"Home"}))),r.a.createElement(p.b,{to:"/login",style:{textDecoration:"none",color:"black"}},r.a.createElement(ce.a,{button:!0},r.a.createElement(qe.a,null,r.a.createElement(Ve.a,null)),r.a.createElement(le.a,{primary:"Login"}))),r.a.createElement(p.b,{to:"/register",style:{textDecoration:"none",color:"black"}},r.a.createElement(ce.a,{button:!0},r.a.createElement(qe.a,null,r.a.createElement(Ve.a,null)),r.a.createElement(le.a,{primary:"Register"}))),r.a.createElement(p.b,{to:"/".concat(E.loggedUser.username),style:{textDecoration:"none",color:"black"}},r.a.createElement(ce.a,{button:!0},r.a.createElement(qe.a,null,r.a.createElement(Me.a,null)),r.a.createElement(le.a,{primary:"Profile"}))),r.a.createElement(T.a,null),r.a.createElement(ce.a,{className:t.postTweet}),r.a.createElement(ce.a,{alignItems:"flex-start",className:t.NavProfile},r.a.createElement(le.a,{secondary:r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,{component:"span",variant:"body2",className:t.inline,color:"textPrimary"}))})))),r.a.createElement("div",{className:t.drawer},b)}var ut=a(246),mt=a(247),pt=a(132),dt=a.n(pt),ft=a(133),Et=a.n(ft),gt=a(131),ht=a.n(gt),vt=Object(S.a)((function(e){return{root:{display:"flex"},editProfile:Object(s.a)({overflowY:"hidden",marginLeft:"400px"},e.breakpoints.down("md"),{marginLeft:"130px",fontSize:"0.5rem"})}}));function bt(e){var t=vt(),a=r.a.useState(!1),n=Object(i.a)(a,2),o=n[0],c=n[1],l=r.a.useContext(g),s=Object(i.a)(l,2),u=s[0],p=s[1],d=r.a.useState(""),f=Object(i.a)(d,2),E=f[0],h=f[1],v=r.a.useState(""),b=Object(i.a)(v,2),x=b[0],k=b[1],j=r.a.useState(""),O=Object(i.a)(j,2),S=O[0],T=O[1],C=function(){c(!1)};r.a.useEffect((function(){h(u.loggedUser.bio),k(u.loggedUser.website),T(u.loggedUser.location)}),[]);var _="https://socialmedia-server.herokuapp.com/img/".concat(u.url[0]&&u.url[0].username,"? ").concat(Date.now());return r.a.createElement(ee.a,null,r.a.createElement(V.a,{className:t.editProfile,variant:"outlined",color:"primary",onClick:function(){c(!0)},component:"span"},"Edit details"),r.a.createElement(M.a,{fullWidth:!0,maxWidth:"sm",open:o,onClose:C,"aria-labelledby":"form-dialog-title"},r.a.createElement(q.a,{id:"form-dialog-title"},"Edit details"),r.a.createElement(z.a,null,r.a.createElement("div",{className:"image-wrapper"},r.a.createElement(U.a,{component:"span"},r.a.createElement("img",{src:_||null,style:{width:"150%",objectFit:"cover"}}))," ",r.a.createElement("input",{type:"file",name:"pic",id:"imageInput",hidden:"hidden",onChange:function(e){var t=e.target.files[0],a=new FormData;a.append("image",t),function(){var e=Object(y.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.post("https://socialmedia-server.herokuapp.com/upload",a);case 3:e.sent,p({type:"SET_RELEVANT_USER_IMAGE",payload:"https://socialmedia-server.herokuapp.com/img/".concat(u.url[0]&&u.url[0].username)}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("something went wrong");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()()}}),r.a.createElement(A.a,{title:"Edit profile picture",placement:"top"},r.a.createElement(P.a,{onClick:function(){document.getElementById("imageInput").click()},className:"button",component:"span"},r.a.createElement(ht.a,{color:"primary"})))),r.a.createElement(B.a,{autoFocus:!0,margin:"dense",id:"bio",label:"Bio",type:"email",fullWidth:!0,defaultValue:u.loggedUser.bio,style:{paddingTop:"20px"},onChange:function(e){h(e.target.value)}}),r.a.createElement(B.a,{autoFocus:!0,margin:"dense",id:"location",label:"Location",type:"text",fullWidth:!0,defaultValue:u.loggedUser.location,style:{paddingTop:"20px"},onChange:function(e){T(e.target.value)}}),r.a.createElement(B.a,{autoFocus:!0,margin:"dense",id:"website",label:"Website",type:"text",fullWidth:!0,defaultValue:u.loggedUser.website,style:{paddingTop:"20px"},onChange:function(e){k(e.target.value)}})),r.a.createElement(Y.a,null,r.a.createElement(V.a,{onClick:C,color:"primary"},"Cancel"),r.a.createElement(V.a,{onClick:function(){c(!1),function(){var e=Object(y.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.post("https://socialmedia-server.herokuapp.com/editDetails",{bio:E,website:x,location:S});case 3:t=e.sent,p({type:"SET_USER",payload:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("something went wrong");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()(),function(){var e=Object(y.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.post("https://socialmedia-server.herokuapp.com/relevantUser",{relevantUsername:u.url[0].username});case 3:t=e.sent,p({type:"SET_RELEVANT_USER",payload:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("something went wrong");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()()},color:"primary"},"save"))))}var wt=Object(S.a)({root:{maxWidth:700},media:{height:240}});function yt(e){var t,a,n,o=wt(),c=r.a.useContext(g),l=Object(i.a)(c,2),s=l[0],u=l[1],p=r.a.useState(!1),d=Object(i.a)(p,2),f=d[0],E=d[1];r.a.useEffect((function(){E(!0),u({type:"URL_DATA",payload:e.match.params})}),[e.match.params.username]),r.a.useEffect((function(){(function(){var t=Object(y.a)(w.a.mark((function t(){var a;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.a.post("https://socialmedia-server.herokuapp.com/relevantTweets",{relevantUsername:e.match.params.username});case 3:a=t.sent,u({type:"SET_TWEETS",payload:a.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("something went wrong");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}})()()}),[e.match.params.username]),r.a.useEffect((function(){(function(){var e=Object(y.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get("https://socialmedia-server.herokuapp.com/user");case 3:t=e.sent,u({type:"SET_USER",payload:t.data}),u({type:"SET_RELATIONSHIPS",payload:t.data.relationships}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("something went wrong");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[e.match.params.username]),r.a.useEffect((function(){(function(){var e=Object(y.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.post("https://socialmedia-server.herokuapp.com/relevantUser",{relevantUsername:s.url[0].username});case 3:t=e.sent,u({type:"SET_RELEVANT_USER",payload:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("something went wrong");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[s.url[0]]),r.a.useEffect((function(){var t=function(){var t=Object(y.a)(w.a.mark((function t(){var a;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.a.post("https://socialmedia-server.herokuapp.com/relevantRelationships",{relevantUser:e.match.params.username});case 3:a=t.sent,u({type:"SET_RELEVANT_RELATIONSHIPS",payload:a.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("something went wrong");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();E(!1),t()}),[e.match.params.username]),s.loggedUser&&s.url[0]&&(t=s.loggedUser.username===s.url[0].username?r.a.createElement(bt,null):null),s.relevantRelationships[0]&&s.url[0]&&(a=s.relevantRelationships.filter((function(e){return e.followed_username===s.url[0].username})).length,n=s.relevantRelationships.filter((function(e){return e.followed_username!==s.url[0].username})).length);var h="https://socialmedia-server.herokuapp.com/img/".concat(s.url[0]&&s.url[0].username,"? ").concat(Date.now()),v=r.a.createElement(_.a,{className:o.root,key:s},r.a.createElement(ut.a,null,r.a.createElement(mt.a,{key:s,className:o.media,image:"https://socialmedia-server.herokuapp.com/img/".concat(s.url[0]&&s.url[0].username,"? ").concat(Date.now()),title:"user img"}),r.a.createElement(N.a,null,r.a.createElement(ee.a,null,t),r.a.createElement(U.a,{component:"span"},r.a.createElement("img",{src:h||null,style:{width:"150%",objectFit:"cover"}})),r.a.createElement(C.a,{gutterBottom:!0,variant:"h5",component:"h2"},s.relevantUser[0]&&s.relevantUser[0].username),r.a.createElement(C.a,{variant:"body1",color:"textSecondary",component:"p"},s.relevantUser[0]&&s.relevantUser[0].bio),r.a.createElement(P.a,{"aria-label":"location",style:{paddingLeft:"0",marginLeft:"-5px"},component:"span"},r.a.createElement(dt.a,null),r.a.createElement(C.a,{variant:"body1",color:"textSecondary",component:"p",style:{paddingLeft:"5px"}},s.relevantUser[0]&&s.relevantUser[0].location)),r.a.createElement(P.a,{"aria-label":"joined",component:"span"},r.a.createElement(Et.a,null),r.a.createElement(C.a,{variant:"body1",color:"textSecondary",component:"p",style:{paddingLeft:"5px"}},"Joined"," ",s.relevantUser[0]&&k()(s.relevantUser[0].created_at).format("DD/MM/YYYY"))),r.a.createElement("br",null),r.a.createElement(C.a,{variant:"body1",color:"textSecondary",component:"p",style:{display:"inline-block"}},a," ",a>1?"Followers":"Follower"),r.a.createElement(C.a,{variant:"body1",color:"textSecondary",component:"p",style:{display:"inline-block",paddingLeft:"30px"}},n," Following"))),r.a.createElement(R.a,null,r.a.createElement(V.a,{size:"small",color:"primary"},"Share"),r.a.createElement(V.a,{size:"small",color:"primary"},"Learn More")),r.a.createElement(ee.a,null,f?null:r.a.createElement(ne,null)));return r.a.createElement("div",null," ",r.a.createElement(ee.a,null,r.a.createElement(C.a,{variant:"h4",style:{paddingLeft:"30px"}},s.relevantUser[0]&&s.relevantUser[0].username),r.a.createElement(C.a,{style:{paddingLeft:"30px"}},s.tweets.length," ",s.tweets.length>1?"tweets":"tweet")),f?null:v)}var xt=a(248);function kt(){return r.a.createElement(C.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(xt.a,{color:"inherit",href:"https://material-ui.com/"},"Your Website")," ",(new Date).getFullYear(),".")}var jt=Object(S.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},customError:{color:"red"}}}));function Ot(e){var t=jt(),a=Object(n.useState)(""),o=Object(i.a)(a,2),c=o[0],l=o[1],s=Object(n.useState)(""),u=Object(i.a)(s,2),p=u[0],d=u[1],f=Object(n.useState)(""),E=Object(i.a)(f,2),h=E[0],v=E[1],b=Object(n.useState)(""),x=Object(i.a)(b,2),k=x[0],j=x[1],O=Object(n.useState)({errors:{email:"",password:"",confirmPassword:"",general:""}}),S=Object(i.a)(O,2),T=S[0],_=S[1],I=Object(n.useContext)(g),N=Object(i.a)(I,2);N[0],N[1];return r.a.createElement(ee.a,{component:"main",maxWidth:"xs"},r.a.createElement(we.a,null),r.a.createElement("div",{className:t.paper},r.a.createElement(U.a,{className:t.avatar},r.a.createElement(Oe.a,null)),r.a.createElement(C.a,{component:"h1",variant:"h5"},"Register"),r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),function(){var t=Object(y.a)(w.a.mark((function t(){var a,n;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.a.post("https://socialmedia-server.herokuapp.com/register",{email:c,username:k,password:p,confirmPassword:h});case 3:a=t.sent,n="Bearer ".concat(a.data),localStorage.setItem("jwt",n),e.history.push("/"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),_(t.t0.response.data);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}()()},className:t.form,noValidate:!0},r.a.createElement(B.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,error:!!T.errors.email,helperText:T.errors.email,onChange:function(e){l(e.target.value)}}),r.a.createElement(B.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",autoFocus:!0,error:!!T.errors.username,helperText:T.errors.username,onChange:function(e){j(e.target.value)}}),r.a.createElement(B.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",error:!!T.errors.password,helperText:T.errors.password,onChange:function(e){d(e.target.value)}}),r.a.createElement(B.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"Confirm password",label:"Confirm Password",type:"password",id:"Confirm password",error:!!T.errors.confirmPassword,helperText:T.errors.confirmPassword,onChange:function(e){v(e.target.value)}}),r.a.createElement(ke.a,{container:!0},r.a.createElement(ke.a,{alignItems:"center"},T.errors.general&&r.a.createElement(C.a,{variant:"body2",className:t.customError},T.errors.general))),r.a.createElement(ye.a,{control:r.a.createElement(xe.a,{value:"remember",color:"primary"}),label:"Remember me"}),r.a.createElement(V.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit},"Sign In"),r.a.createElement(ke.a,{container:!0}))),r.a.createElement(te.a,{mt:8},r.a.createElement(kt,null)))}var St=a(249),Tt=a(250),Ut=a(134),Ct=a.n(Ut),_t=Object(S.a)((function(e){return{root:Object(s.a)({width:500,marginTop:"30px",display:"flex",justifyContent:"center,",alignItems:"center"},e.breakpoints.down("xs"),{})}}));function It(){var e=r.a.useContext(g),t=Object(i.a)(e,1)[0],a=_t(),n=r.a.useState(0),o=Object(i.a)(n,2),c=o[0],l=o[1];return r.a.createElement(St.a,{value:c,onChange:function(e,t){l(t)},showLabels:!0,className:a.root},r.a.createElement(te.a,{display:"flex"},r.a.createElement(te.a,{m:"auto"},r.a.createElement(p.b,{to:"/",style:{textDecoration:"none",color:"black"}},r.a.createElement(Tt.a,{label:"Home",icon:r.a.createElement(Ve.a,null)})),r.a.createElement(p.b,{to:"/".concat(t.loggedUser.username),style:{textDecoration:"none",color:"black"}},r.a.createElement(Tt.a,{label:"Profile",icon:r.a.createElement(Ct.a,null)})),r.a.createElement(Tt.a,{style:{paddingRight:"30px"},label:"Profile",icon:r.a.createElement(lt,null)}))))}var Nt=function(){localStorage.jwt&&(m.a.defaults.headers.common.Authorization=localStorage.jwt);var e=r.a.useContext(g),t=Object(i.a)(e,2),a=t[0],n=(t[1],r.a.useState(!1)),o=Object(i.a)(n,2);return o[0],o[1],console.log(a),Object(S.a)((function(e){var t;return{root:(t={},Object(s.a)(t,e.breakpoints.down("sm"),{}),Object(s.a)(t,e.breakpoints.down("md"),{}),Object(s.a)(t,e.breakpoints.up("lg"),{}),t)}}))(),r.a.createElement("div",{className:"App"},r.a.createElement(p.a,null,r.a.createElement(ee.a,null,r.a.createElement(ke.a,{container:!0,spacing:3},r.a.createElement(Fe.a,{xsDown:!0},r.a.createElement(ke.a,{item:!0,xs:!1,sm:2,md:2,lg:3},r.a.createElement(ee.a,null,r.a.createElement(ke.a,{container:!0},r.a.createElement(ke.a,{item:!0,sm:4}),r.a.createElement(ke.a,{item:!0,sm:4}),r.a.createElement(ke.a,{item:!0,sm:4,lg:12,style:{paddingRight:"20px"}},r.a.createElement(it,null)))))),r.a.createElement(ke.a,{item:!0,xs:12,sm:10,md:10,lg:9},r.a.createElement(ke.a,{container:!0,spacing:3},r.a.createElement(ke.a,{item:!0,xs:12,sm:12,md:8,lg:8},r.a.createElement(d.d,null,r.a.createElement(Rt,{exact:!0,path:"/",component:be}),r.a.createElement(d.b,{exact:!0,path:"/login",component:Ue}),r.a.createElement(d.b,{exact:!0,path:"/register",component:Ot}),r.a.createElement(Rt,{exact:!0,path:"/:username/:tweetId",component:We}),r.a.createElement(Rt,{exact:!0,path:"/:username",component:yt}))),r.a.createElement(Fe.a,{smDown:!0},r.a.createElement(ke.a,{item:!0,sm:!1,md:4,lg:4},r.a.createElement(d.b,{component:Ee}))))),r.a.createElement(Fe.a,{smUp:!0},r.a.createElement(It,null))))))};function Rt(e){var t=e.component,a=(e.user,Object(l.a)(e,["component","user"])),n=r.a.useContext(g),o=Object(i.a)(n,2);o[0],o[1];return r.a.createElement(d.b,Object.assign({},a,{render:function(e){return localStorage.jwt?r.a.createElement(t,Object.assign({},a,e)):r.a.createElement(d.a,{to:{pathname:"/login",state:{from:e.location}}})}}))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(v,null,r.a.createElement(Nt,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[157,1,2]]]);
//# sourceMappingURL=main.3a26b9f2.chunk.js.map